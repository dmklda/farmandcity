# ğŸŒ Sistema de AnÃºncios Globais

## ğŸ¯ VisÃ£o Geral

O sistema de anÃºncios globais permite que administradores criem e gerenciem avisos que aparecem em todo o jogo, nÃ£o apenas na loja. Este sistema Ã© separado do sistema de anÃºncios da loja e oferece controle granular sobre onde e quando os anÃºncios aparecem.

## ğŸš€ Funcionalidades Principais

### âœ¨ Recursos Exclusivos
- **AnÃºncios Globais**: Aparecem em todo o jogo, nÃ£o apenas na loja
- **Controle de LocalizaÃ§Ã£o**: Escolha onde o anÃºncio aparece (pÃ¡gina inicial, durante o jogo, ou ambos)
- **Sistema de Dispensar**: UsuÃ¡rios podem fechar anÃºncios (configurÃ¡vel)
- **Rastreamento de VisualizaÃ§Ãµes**: Sistema rastreia quais anÃºncios cada usuÃ¡rio viu
- **4 NÃ­veis de Prioridade**: Baixa, MÃ©dia, Alta e CrÃ­tica
- **6 Tipos de AnÃºncio**: InformaÃ§Ã£o, NotÃ­cia, AtualizaÃ§Ã£o, Evento, ManutenÃ§Ã£o, Aviso

### ğŸ¨ Tipos de AnÃºncio Globais

#### 1. **InformaÃ§Ã£o** (â„¹ï¸)
- **Uso**: InformaÃ§Ãµes gerais sobre o jogo
- **Exemplo**: "Bem-vindo ao Famand! Novo jogo de estratÃ©gia medieval"
- **Prioridade**: Geralmente baixa (1-2)
- **Cor**: Azul (padrÃ£o)

#### 2. **NotÃ­cia** (ğŸ“¢)
- **Uso**: Novidades e atualizaÃ§Ãµes importantes
- **Exemplo**: "Sistema de AnÃºncios Ativo - Agora vocÃª pode receber atualizaÃ§Ãµes!"
- **Prioridade**: MÃ©dia (2-3)
- **Cor**: Verde (padrÃ£o)

#### 3. **AtualizaÃ§Ã£o** (ğŸ””)
- **Uso**: AtualizaÃ§Ãµes do sistema e correÃ§Ãµes
- **Exemplo**: "Nova versÃ£o disponÃ­vel com melhorias de performance"
- **Prioridade**: MÃ©dia (2-3)
- **Cor**: Azul (padrÃ£o)

#### 4. **Evento** (ğŸ“…)
- **Uso**: Eventos especiais e temporÃ¡rios
- **Exemplo**: "Evento de Natal ativo! Ganhe recompensas especiais"
- **Prioridade**: Alta (3-4)
- **Cor**: Roxo (padrÃ£o)

#### 5. **ManutenÃ§Ã£o** (ğŸ”§)
- **Uso**: Avisos de manutenÃ§Ã£o e downtime
- **Exemplo**: "Servidor serÃ¡ reiniciado amanhÃ£ Ã s 03:00"
- **Prioridade**: Alta (3-4)
- **Cor**: Laranja (padrÃ£o)

#### 6. **Aviso** (âš ï¸)
- **Uso**: Alertas importantes e crÃ­ticos
- **Exemplo**: "Problemas tÃ©cnicos detectados - estamos trabalhando na soluÃ§Ã£o"
- **Prioridade**: CrÃ­tica (4)
- **Cor**: Vermelho (padrÃ£o)

## ğŸ› ï¸ Como Usar

### ğŸ“ Acessando o Sistema
1. FaÃ§a login no painel administrativo
2. No menu lateral, clique em **"AnÃºncios Globais"** (Ã­cone ğŸ””)
3. VocÃª verÃ¡ a interface de gerenciamento de anÃºncios globais

### â• Criando um Novo AnÃºncio Global
1. Clique no botÃ£o **"Novo AnÃºncio Global"**
2. Preencha os campos:
   - **TÃ­tulo**: Nome do anÃºncio
   - **Mensagem**: DescriÃ§Ã£o detalhada
   - **Tipo**: Selecione o tipo apropriado
   - **Ãcone**: Emoji ou sÃ­mbolo
   - **Cor**: Escolha a cor do tema
   - **Prioridade**: Baixa (1), MÃ©dia (2), Alta (3), CrÃ­tica (4)
   - **Mostrar na PÃ¡gina Inicial**: Marque se deve aparecer na home
   - **Mostrar Durante o Jogo**: Marque se deve aparecer durante o jogo
   - **Permitir Fechar**: Se o usuÃ¡rio pode dispensar o anÃºncio
   - **Data de InÃ­cio**: Quando o anÃºncio deve aparecer
   - **Data de Fim**: Quando deve parar (opcional)
   - **Ativo**: Marque para exibir imediatamente
3. Clique em **"Criar"**

### âœï¸ Editando um AnÃºncio Global
1. Na lista de anÃºncios, clique no botÃ£o **"Editar"** (Ã­cone âœï¸)
2. Modifique os campos desejados
3. Clique em **"Atualizar"**

### ğŸ‘ï¸ Controlando Visibilidade
- **Ativar/Desativar**: Use o botÃ£o com Ã­cone de olho
- **Excluir**: Use o botÃ£o vermelho com Ã­cone de lixeira

## ğŸ“Š Sistema de Prioridades

### ğŸ¥‰ Prioridade Baixa (1)
- AnÃºncios informativos gerais
- Cor: Verde
- NÃ£o aparecem com destaque especial

### ğŸ¥ˆ Prioridade MÃ©dia (2)
- Eventos e novidades importantes
- Cor: Amarelo
- Aparecem com destaque moderado

### ğŸ¥‡ Prioridade Alta (3)
- ManutenÃ§Ãµes e eventos crÃ­ticos
- Cor: Laranja
- Aparecem com destaque e sombra

### ğŸš¨ Prioridade CrÃ­tica (4)
- Alertas urgentes e crÃ­ticos
- Cor: Vermelho
- Aparecem com destaque mÃ¡ximo e sombra vermelha

## ğŸ¯ Controle de LocalizaÃ§Ã£o

### ğŸ  PÃ¡gina Inicial
- AnÃºncios marcados como "Mostrar na PÃ¡gina Inicial"
- Aparecem no topo da pÃ¡gina inicial
- MÃ¡ximo de 3 anÃºncios visÃ­veis
- Ordenados por prioridade

### ğŸ® Durante o Jogo
- AnÃºncios marcados como "Mostrar Durante o Jogo"
- Aparecem no topo da tela do jogo
- MÃ¡ximo de 2 anÃºncios visÃ­veis
- Posicionados para nÃ£o interferir no gameplay

## ğŸ”„ Sistema de Dispensar

### âœ… AnÃºncios DispensÃ¡veis
- UsuÃ¡rios podem fechar clicando no X
- Sistema rastreia quem dispensou
- NÃ£o aparecem novamente para quem dispensou
- Ãštil para anÃºncios informativos

### âŒ AnÃºncios NÃ£o DispensÃ¡veis
- UsuÃ¡rios nÃ£o podem fechar
- Sempre aparecem para todos
- Ãštil para avisos crÃ­ticos e manutenÃ§Ã£o
- Apenas admin pode desativar

## ğŸ“ˆ Rastreamento de VisualizaÃ§Ãµes

### ğŸ‘€ VisualizaÃ§Ãµes
- Sistema rastreia quando cada usuÃ¡rio vÃª um anÃºncio
- Armazenado na tabela `user_announcement_views`
- Permite analytics de engajamento

### ğŸ—‘ï¸ Dispensas
- Sistema rastreia quando usuÃ¡rios dispensam anÃºncios
- Permite entender quais anÃºncios sÃ£o menos relevantes
- Dados Ãºteis para melhorar comunicaÃ§Ã£o

## ğŸ¨ PersonalizaÃ§Ã£o Visual

### ğŸŒˆ Cores DisponÃ­veis
- **Vermelho**: Para avisos crÃ­ticos e manutenÃ§Ã£o
- **Verde**: Para notÃ­cias positivas e novidades
- **Azul**: Para informaÃ§Ãµes neutras e atualizaÃ§Ãµes
- **Roxo**: Para eventos especiais
- **Laranja**: Para manutenÃ§Ãµes e avisos importantes
- **Amarelo**: Para destaque geral

### ğŸ“± Ãcones Recomendados
- **InformaÃ§Ãµes**: â„¹ï¸ ğŸ“‹ ğŸ“
- **NotÃ­cias**: ğŸ“¢ ğŸ†• âœ¨
- **AtualizaÃ§Ãµes**: ğŸ”” ğŸ”„ âš¡
- **Eventos**: ğŸ“… ğŸŠ ğŸ†
- **ManutenÃ§Ã£o**: ğŸ”§ ğŸ› ï¸ âš™ï¸
- **Avisos**: âš ï¸ ğŸš¨ ğŸš©

## â° Controle de Datas

### ğŸ“… Data de InÃ­cio
- Define quando o anÃºncio deve comeÃ§ar a aparecer
- Se nÃ£o definida, aparece imediatamente
- Ãštil para agendar anÃºncios futuros

### ğŸ“… Data de Fim
- Define quando o anÃºncio deve parar de aparecer
- Se nÃ£o definida, o anÃºncio fica ativo indefinidamente
- Ãštil para eventos temporÃ¡rios

## ğŸ”„ Comportamento no Jogo

### ğŸ  PÃ¡gina Inicial
- AnÃºncios aparecem no topo, antes da seÃ§Ã£o de boas-vindas
- MÃ¡ximo de 3 anÃºncios simultÃ¢neos
- AnimaÃ§Ãµes suaves de entrada
- Responsivo para diferentes tamanhos de tela

### ğŸ® Durante o Jogo
- AnÃºncios aparecem no topo da tela, abaixo da barra superior
- MÃ¡ximo de 2 anÃºncios simultÃ¢neos
- Posicionamento fixo para nÃ£o interferir no gameplay
- AnimaÃ§Ãµes discretas

## ğŸ›¡ï¸ SeguranÃ§a e PermissÃµes

### ğŸ‘¥ Acesso
- Apenas usuÃ¡rios com role `admin` ou `super_admin`
- Controle via RLS (Row Level Security) no Supabase
- SeparaÃ§Ã£o clara entre anÃºncios da loja e globais

### ğŸ”’ ValidaÃ§Ãµes
- TÃ­tulo e mensagem obrigatÃ³rios
- Datas vÃ¡lidas
- Prioridade entre 1-4
- Tipos vÃ¡lidos
- Pelo menos uma localizaÃ§Ã£o deve ser selecionada

## ğŸ“ Exemplos PrÃ¡ticos

### ğŸ”§ ManutenÃ§Ã£o Programada
```
TÃ­tulo: "ManutenÃ§Ã£o Programada"
Mensagem: "Servidor ficarÃ¡ offline das 02:00 Ã s 04:00 para atualizaÃ§Ãµes importantes"
Tipo: ManutenÃ§Ã£o
Ãcone: ğŸ”§
Cor: Laranja
Prioridade: Alta (3)
Mostrar na PÃ¡gina Inicial: Sim
Mostrar Durante o Jogo: Sim
Permitir Fechar: NÃ£o
Data de InÃ­cio: 20/01/2024 01:30
Data de Fim: 20/01/2024 04:30
```

### ğŸ‰ Evento Especial
```
TÃ­tulo: "Evento de Natal Ativo!"
Mensagem: "Participe do evento de Natal e ganhe recompensas exclusivas atÃ© 25/12!"
Tipo: Evento
Ãcone: ğŸ„
Cor: Roxo
Prioridade: Alta (3)
Mostrar na PÃ¡gina Inicial: Sim
Mostrar Durante o Jogo: Sim
Permitir Fechar: Sim
Data de InÃ­cio: 01/12/2024
Data de Fim: 25/12/2024
```

### ğŸ†• Nova Funcionalidade
```
TÃ­tulo: "Nova Funcionalidade: Sistema de ClÃ£s"
Mensagem: "Forme clÃ£s com outros jogadores e participe de batalhas Ã©picas!"
Tipo: NotÃ­cia
Ãcone: ğŸ†•
Cor: Verde
Prioridade: MÃ©dia (2)
Mostrar na PÃ¡gina Inicial: Sim
Mostrar Durante o Jogo: NÃ£o
Permitir Fechar: Sim
Data de InÃ­cio: 15/01/2024
```

## ğŸ”§ Troubleshooting

### âŒ Problemas Comuns

#### AnÃºncio nÃ£o aparece
- Verifique se estÃ¡ **ativo**
- Confirme se a **data de inÃ­cio** jÃ¡ passou
- Verifique se a **data de fim** nÃ£o expirou
- Confirme se a **localizaÃ§Ã£o** estÃ¡ correta
- Recarregue a pÃ¡gina

#### Erro ao salvar
- Preencha todos os campos obrigatÃ³rios
- Verifique se as datas sÃ£o vÃ¡lidas
- Confirme se tem permissÃµes de admin
- Selecione pelo menos uma localizaÃ§Ã£o

#### AnÃºncio nÃ£o atualiza
- Recarregue a pÃ¡gina do admin
- Verifique se nÃ£o hÃ¡ erros no console
- Confirme se a conexÃ£o com o banco estÃ¡ ok

### ğŸ”„ AtualizaÃ§Ãµes em Tempo Real
- Os anÃºncios sÃ£o carregados dinamicamente
- MudanÃ§as aparecem imediatamente no jogo
- NÃ£o Ã© necessÃ¡rio reiniciar o servidor

## ğŸ“ˆ Melhores PrÃ¡ticas

### âœ… RecomendaÃ§Ãµes
- Use tÃ­tulos claros e objetivos
- Mantenha mensagens concisas
- Defina datas de fim para eventos temporÃ¡rios
- Use cores apropriadas para cada tipo
- Teste anÃºncios antes de ativar
- Monitore o engajamento dos usuÃ¡rios

### âŒ Evite
- AnÃºncios muito longos
- Muitos anÃºncios ativos simultaneamente
- AnÃºncios crÃ­ticos dispensÃ¡veis
- Cores que nÃ£o combinam com o tema
- AnÃºncios desatualizados

## ğŸ¯ DiferenÃ§as do Sistema da Loja

### ğŸª AnÃºncios da Loja
- Aparecem apenas na loja
- Foco em promoÃ§Ãµes e vendas
- Sistema de prioridades simples (1-3)
- Sem rastreamento de visualizaÃ§Ãµes

### ğŸŒ AnÃºncios Globais
- Aparecem em todo o jogo
- Foco em comunicaÃ§Ã£o geral
- Sistema de prioridades avanÃ§ado (1-4)
- Rastreamento completo de visualizaÃ§Ãµes
- Controle de localizaÃ§Ã£o granular
- Sistema de dispensar configurÃ¡vel

## ğŸ¯ PrÃ³ximas Funcionalidades

### ğŸ”® Roadmap
- [ ] AnÃºncios por regiÃ£o/idioma
- [ ] Templates prÃ©-definidos
- [ ] EstatÃ­sticas de visualizaÃ§Ã£o detalhadas
- [ ] Agendamento automÃ¡tico
- [ ] IntegraÃ§Ã£o com eventos do jogo
- [ ] AnÃºncios personalizados por usuÃ¡rio
- [ ] Sistema de notificaÃ§Ãµes push
- [ ] Analytics avanÃ§ados de engajamento

---

**ğŸ’¡ Dica**: Use o sistema de anÃºncios globais para manter os jogadores informados sobre novidades, manutenÃ§Ãµes e eventos importantes. AnÃºncios bem feitos melhoram a experiÃªncia do usuÃ¡rio e aumentam o engajamento! 